meta {
  name: Service List with limit and all fields
  type: http
  seq: 3
}

get {
  url: http://{{url}}/centreon/api/index.php?action=list&object=centreon_realtime_services&limit={{my_limit}}&fields=host_id,host_name,host_alias,host_address,host_state,host_state_type,host_output,host_last_check,host_next_check,host_acknowledged,instance,instance_id,host_action_url,host_notes_url,host_icon_image,description,state,state_type,service_id,output,perfdata,current_attempt,last_update,last_state_change,last_hard_state_change,last_check,next_check,max_check_attempts,notes,notes_url,action_url,icon_image,display_name,notify,acknowledged,passive_checks,active_checks,event_handler_enabled,flapping,scheduled_downtime_depth,flap_detection,criticality
  body: none
  auth: none
}

query {
  action: list
  object: centreon_realtime_services
  limit: {{my_limit}}
  fields: host_id,host_name,host_alias,host_address,host_state,host_state_type,host_output,host_last_check,host_next_check,host_acknowledged,instance,instance_id,host_action_url,host_notes_url,host_icon_image,description,state,state_type,service_id,output,perfdata,current_attempt,last_update,last_state_change,last_hard_state_change,last_check,next_check,max_check_attempts,notes,notes_url,action_url,icon_image,display_name,notify,acknowledged,passive_checks,active_checks,event_handler_enabled,flapping,scheduled_downtime_depth,flap_detection,criticality
}

headers {
  Content-Type: application/json
  centreon-auth-token: {{token}}
}

tests {
  var helpers = eval(globals.loadHelpers);
  helpers.checkServiceList([
      "host_id",
      "host_name",
      "host_alias",
      "host_address",
      "host_state",
      "host_state_type",
      "host_output",
      "host_last_check",
      "host_next_check",
      "host_acknowledged",
      "instance_name",
      "instance_id",
      "host_action_url",
      "host_notes_url",
      "host_icon_image",
      "description",
      "state",
      "state_type",
      "service_id",
      "output",
      "perfdata",
      "current_attempt",
      "last_update",
      "last_state_change",
      "last_hard_state_change",
      "last_check",
      "next_check",
      "max_check_attempts",
      "notes",
      "notes_url",
      "action_url",
      "icon_image",
      "display_name",
      "notify",
      "acknowledged",
      "passive_checks",
      "active_checks",
      "event_handler_enabled",
      "flapping",
      "scheduled_downtime_depth",
      "flap_detection",
      "criticality"
      ]);
}
